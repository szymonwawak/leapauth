<div class="login-card-content">
  <form #f="ngForm" (ngSubmit)="f.valid && changePassword()">
    <div>
      <mat-form-field>
        <mat-label>{{'password.old' | translate }}</mat-label>
        <input matInput type="password" name="currentPassword" required minlength="8"
               [(ngModel)]="passwordChangeModel.currentPassword"
               #currentPassword="ngModel">
        <div *ngIf="(currentPassword.invalid && currentPassword.touched)">
          <small *ngIf="currentPassword.errors?.required"
                 class="text-danger">{{'required.password' | translate }}</small>
          <small *ngIf="currentPassword.errors?.minlength"
                 class="text-danger">{{'password.too.short' | translate }}</small>
        </div>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-label>{{'password.new' | translate }}</mat-label>
        <input matInput type="password" name="newPassword" minlength="8" required
               [(ngModel)]="passwordChangeModel.newPassword"
               #newPassword="ngModel">
        <div *ngIf="(newPassword.invalid && newPassword.touched)">
          <small *ngIf="newPassword.errors?.required" class="text-danger">{{'required.password' | translate }}</small>
          <small *ngIf="newPassword.errors?.minlength" class="text-danger">{{'password.too.short' | translate }}</small>
        </div>
      </mat-form-field>
    </div>
    <div>
      <button type="submit" [disabled]="f.invalid" mat-raised-button
              color="accent">{{'password.change' | translate }}</button>
      <button type="button" mat-raised-button color="warn" class="float-right"
              (click)="closeDialog()">{{'return' | translate }}</button>
    </div>
  </form>
</div>
